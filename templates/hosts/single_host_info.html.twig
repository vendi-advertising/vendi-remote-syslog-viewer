{% extends 'base.html.twig' %}

{% block title %}Hello HostsController!{% endblock %}

{% block body %}
<style>
html {
    font-size: 62.5%;
}

body {
    box-sizing: border-box;
    font-size: 1.6rem;
    margin: 0;
    padding: 0;
}

.table {
    box-sizing: border-box;
    display: grid;
    grid-template-columns: 5rem 20rem 10rem 10rem 20rem auto;
    margin: 0;
    padding: 0;
}

.table {

}

.row-priority-0 {
    background-color: Magenta;
}

.row-priority-1 {
    background-color: Maroon;
}

.row-priority-2 {
    background-color: red;
}

.row-priority-3 {
    background-color: orange;
}

.row-priority-4 {
    background-color: yellow;
}

.row-priority-5 {
    background-color: limegreen;
}

.row-priority-6 {
    background-color: LightSkyBlue;
}

.row-priority-7 {
    background-color: White;
}

.filters {

}

</style>

<div class="filters">
    <form method="get">
        <fieldset>
            <legend>Facilities</legend>
            {% for id, facility in all_facilities %}
                <label><input type="checkbox" name="facility[]" value="{{ id }}"
                {% if id in selected_facilities %}
                    checked
                {% endif %}
                 /> {{facility.name}}</label>
            {% endfor %}
        </fieldset>

        <fieldset>
            <legend>Priorities</legend>
            {% for id, priority in all_priorities %}
                <label class="row-priority-{{id}}"><input type="checkbox" name="priority[]" value="{{ id }}"
                {% if id in selected_priorities %}
                    checked
                {% endif %}
                 /> {{priority.name}}</label>
            {% endfor %}
        </fieldset>

        <input type="submit" value="Submit" />
    </form>
</div>

<div class="table">
    <span class="cell header">ID</span>
    <span class="cell header">Received At</span>
    <span class="cell header">Facility</span>
    <span class="cell header">Priority</span>
    <span class="cell header">SysLogTag</span>
    <span class="cell header">Message</span>

    {% for event in events %}

            <span class="row-facility-{{event.facility}} row-priority-{{event.priority}}">{{event.id}}</span>
            <span class="row-facility-{{event.facility}} row-priority-{{event.priority}}">{{event.receivedat|date('Y-m-d\\TH:i:sP')}}</span>
            <span class="row-facility-{{event.facility}} row-priority-{{event.priority}}">{{event.facility}}</span>
            <span class="row-facility-{{event.facility}} row-priority-{{event.priority}}">{{event.priority}}</span>
            <span class="row-facility-{{event.facility}} row-priority-{{event.priority}}">{{event.syslogtag}}</span>
            <code>{{event.message}}</code>
    {% endfor %}
</div>

{% endblock %}
